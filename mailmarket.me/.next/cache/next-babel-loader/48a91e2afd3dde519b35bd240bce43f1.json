{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/Web Apps/MailMarket.me/mailmarket.me/pages/dashboard.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Router from \"next/router\";\nimport Head from \"next/head\";\nimport checkAuth from \"../lib/checkAuth\";\nimport axios from \"axios\";\nexport default class DashBoardIndex extends React.Component {\n  constructor(props) {\n    super(props);\n    this.typingTimeout = null;\n    this.state = {\n      sent: 0,\n      points: 0,\n      pointsToUse: 0,\n      from: null,\n      subject: null,\n      msgToSend: null,\n      customEmailList: [],\n      totalEmailsSent: 0,\n      pageLoading: true,\n      decisor: false,\n      decisorLoading: false,\n      decisorResult: false,\n      products: false\n    };\n    this.setDecisorOn = this.setDecisorOn.bind(this);\n    this.setDecisorOff = this.setDecisorOff.bind(this);\n    this.setProductsOn = this.setProductsOn.bind(this);\n    this.setProductsOff = this.setProductsOff.bind(this);\n    this.setPointsToUse = this.setPointsToUse.bind(this);\n    this.setMsgToSend = this.setMsgToSend.bind(this);\n    this.setFrom = this.setFrom.bind(this);\n    this.setSubject = this.setSubject.bind(this);\n    this.setCustomEmailList = this.setCustomEmailList.bind(this);\n    this.sendRequest = this.sendRequest.bind(this);\n  }\n\n  static async getInitialProps({\n    req,\n    res\n  }) {\n    return checkAuth(req, res);\n  }\n\n  componentDidMount() {\n    if (this.props.loggedIn && this.props.id != null) {\n      axios({\n        url: \"/api/user\",\n        method: \"POST\",\n        data: {\n          id: this.props.id\n        }\n      }).then(response => {\n        this.setState({\n          pageLoading: false,\n          sent: response.data.sent,\n          points: response.data.points,\n          totalEmailsSent: response.data.totalEmailsSent\n        });\n      }).catch(err => Router.push(\"/login\"));\n    }\n  }\n\n  sendRequest() {\n    if (this.state.msgToSend != null) {\n      this.setState({\n        decisorLoading: true\n      });\n      axios({\n        url: \"/api/mailer\",\n        method: \"POST\",\n        data: {\n          id: this.props.id,\n          pointsToUse: this.state.pointsToUse,\n          from: this.state.from,\n          subject: this.state.subject,\n          msgToSend: this.state.msgToSend,\n          customEmailList: this.state.customEmailList\n        }\n      }).then(result => {\n        if (result.status == 200) {\n          this.setState({\n            decisor: false,\n            decisorLoading: false,\n            decisorResult: true,\n            points: this.state.points - this.state.pointsToUse,\n            pointsToUse: 0,\n            sent: parseInt(this.state.sent) + parseInt(this.state.pointsToUse),\n            totalEmailsSent: this.state.pointsToUse + this.state.totalEmailsSent,\n            customEmailList: []\n          });\n        }\n      }).catch(err => {\n        this.setState({\n          decisorLoading: false,\n          decisorResult: false\n        });\n      });\n    } else {\n      alert(\"Your message is empty!\");\n    }\n  }\n\n  setPointsToUse(elem) {\n    clearTimeout(this.typingTimeout);\n    let value = elem.target.value;\n    this.typingTimeout = setTimeout(() => {\n      this.setState({\n        pointsToUse: this.state.customEmailList.length > 0 ? parseInt(value) + this.state.customEmailList.length : parseInt(value)\n      });\n    }, 500);\n  }\n\n  setFrom(elem) {\n    this.setState({\n      from: elem.target.value\n    });\n  }\n\n  setSubject(elem) {\n    this.setState({\n      subject: elem.target.value\n    });\n  }\n\n  setMsgToSend(elem) {\n    this.setState({\n      msgToSend: elem.target.value\n    });\n  }\n\n  setCustomEmailList(elem) {\n    clearTimeout(this.typingTimeout);\n    let value = elem.target.value;\n    this.typingTimeout = setTimeout(() => {\n      let mails = value.length > 1 ? value.replace(\" \", \"\").replace(\",\", \"\\n\").split(\"\\n\").filter(Boolean) : [];\n      let pointsToUse = this.state.pointsToUse;\n\n      if (mails.length > this.state.customEmailList.length) {\n        pointsToUse = mails.length - this.state.customEmailList.length + this.state.pointsToUse;\n      }\n\n      if (mails.length < this.state.customEmailList.length) {\n        pointsToUse = this.state.pointsToUse - (this.state.customEmailList.length - mails.length);\n      }\n\n      if (mails.length == 0) {\n        pointsToUse = this.state.pointsToUse - this.state.customEmailList.length;\n      }\n\n      this.setState({\n        customEmailList: mails,\n        pointsToUse: pointsToUse\n      });\n    }, 800);\n  }\n\n  setDecisorOn() {\n    if (this.state.pointsToUse > 0) {\n      if (this.state.from == null || this.state.subject == null || this.state.msgToSend == null) {\n        alert(\"Error: Some form(s) are left empty\");\n      } else {\n        this.setState({\n          decisor: true\n        });\n      }\n    } else {\n      alert(\"Error: You cannot use 0 points\");\n    }\n  }\n\n  setDecisorOff() {\n    this.setState({\n      decisor: false\n    });\n  }\n\n  setProductsOn() {\n    this.setState({\n      products: true\n    });\n  }\n\n  setProductsOff() {\n    this.setState({\n      products: false\n    });\n  }\n\n  render() {\n    function decisorDom(self) {\n      if (self.state.pointsToUse <= self.state.points) {\n        return __jsx(\"div\", {\n          className: \"container decisor-items-container\",\n          onClick: self.setDecisorOff,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 21\n          }\n        }, __jsx(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }\n        }, __jsx(\"div\", {\n          className: \"col-md-12\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 29\n          }\n        }, __jsx(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 33\n          }\n        }, \"You will use \", __jsx(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 50\n          }\n        }, self.state.pointsToUse), \" points.\", __jsx(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 89\n          }\n        }), __jsx(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 98\n          }\n        }), \"Points left: \", __jsx(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 120\n          }\n        }, self.state.points - self.state.pointsToUse), __jsx(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 171\n          }\n        }), __jsx(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 180\n          }\n        }), \"Are you sure?\")), __jsx(\"div\", {\n          className: self.state.decisorLoading ? \"col-md-12 decisor-loading\" : \"col-md-12 decisor-loading hide\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 29\n          }\n        }, __jsx(\"div\", {\n          className: \"loadingio-spinner-eclipse-h5c55szghjc\",\n          style: {\n            transform: \"scale(0.7)\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 33\n          }\n        }, __jsx(\"div\", {\n          className: \"ldio-3kphjdhe4ws\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 37\n          }\n        }, __jsx(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 41\n          }\n        })))), __jsx(\"div\", {\n          className: self.state.decisorLoading ? \"col-md-12 row hide\" : \"col-md-12 row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }\n        }, __jsx(\"div\", {\n          className: \"col-md-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 33\n          }\n        }, __jsx(\"button\", {\n          className: \"decisor-button\",\n          onClick: self.sendRequest,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 37\n          }\n        }, \"Yes\")), __jsx(\"div\", {\n          className: \"col-md-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 33\n          }\n        }, __jsx(\"button\", {\n          className: \"decisor-button black\",\n          onClick: self.setDecisorOff,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 37\n          }\n        }, \"No\")))));\n      } else {\n        return __jsx(\"div\", {\n          className: \"container decisor-items-container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 21\n          }\n        }, __jsx(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }\n        }, __jsx(\"div\", {\n          className: \"col-md-12\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 29\n          }\n        }, __jsx(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 33\n          }\n        }, \"You don't have enough points.\", __jsx(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 66\n          }\n        }), __jsx(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 75\n          }\n        }), \"You need \", self.state.pointsToUse - self.state.points == 1 ? self.state.pointsToUse - self.points + \" point\" : self.state.pointsToUse - self.points + \" points\", \".\")), __jsx(\"div\", {\n          className: \"col-md-12 row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 29\n          }\n        }, __jsx(\"div\", {\n          className: \"col-md-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 33\n          }\n        }, __jsx(\"button\", {\n          className: \"decisor-button\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 37\n          }\n        }, \"Add Points\")), __jsx(\"div\", {\n          className: \"col-md-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 33\n          }\n        }, __jsx(\"button\", {\n          className: \"decisor-button black\",\n          onClick: self.setDecisorOff,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 37\n          }\n        }, \"Close\")))));\n      }\n    }\n\n    return __jsx(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }\n    }, __jsx(Head, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }\n    }, __jsx(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, \"Dashboard\"), __jsx(\"link\", {\n      href: \"/css/bootstrap.css\",\n      rel: \"stylesheet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }\n    }), __jsx(\"link\", {\n      href: \"/css/dashboard.css\",\n      rel: \"stylesheet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 21\n      }\n    })), __jsx(\"div\", {\n      className: this.state.pageLoading ? \"loading\" : \"loading hide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"loadingio-spinner-eclipse-h5c55szghjc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"ldio-3kphjdhe4ws\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 29\n      }\n    })))), __jsx(\"div\", {\n      className: this.state.products ? \"decisor active\" : \"decisor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"container\",\n      onClick: this.setProductsOff,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 29\n      }\n    }, __jsx(\"div\", {\n      className: \"product-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 33\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 37\n      }\n    }, \"Starter Pack\"), __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 37\n      }\n    }, \"100 Points\"), __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 37\n      }\n    }, \"1.00$\"), __jsx(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 37\n      }\n    }, \"Pay with PayPal\"))), __jsx(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 29\n      }\n    }, __jsx(\"div\", {\n      className: \"product-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 33\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 37\n      }\n    }, \"Medium Pack\"), __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 37\n      }\n    }, \"400 Points\"), __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 37\n      }\n    }, \"2.50$\"), __jsx(\"button\", {\n      className: \"black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 37\n      }\n    }, \"Pay with PayPal\"))), __jsx(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 29\n      }\n    }, __jsx(\"div\", {\n      className: \"product-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 33\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 37\n      }\n    }, \"Marketer Pack\"), __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 37\n      }\n    }, \"700 Points\"), __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 37\n      }\n    }, \"5$\"), __jsx(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 37\n      }\n    }, \"Pay with PayPal\")))))), __jsx(\"div\", {\n      className: this.state.decisor ? \"decisor active\" : \"decisor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }\n    }, decisorDom(this)), __jsx(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"row center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: \"statistics-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 29\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 33\n      }\n    }, \"E-Mails Sent\"), __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 33\n      }\n    }, this.state.sent))), __jsx(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: \"statistics-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 29\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 33\n      }\n    }, \"Available Points\"), __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 33\n      }\n    }, this.state.points))), __jsx(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: \"statistics-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 29\n      }\n    }, __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 33\n      }\n    }, \"Total E-Mails Sent\"), __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 33\n      }\n    }, this.state.totalEmailsSent)))), __jsx(\"div\", {\n      className: \"row\",\n      style: {\n        margin: \"5rem 0\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"col-md-4 input-block center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 25\n      }\n    }, __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 29\n      }\n    }, \"Custom E-Mail List\"), __jsx(\"textarea\", {\n      className: \"custom-list\",\n      type: \"text\",\n      placeholder: \"Leave blank if you don't want to add custom E-Mails\",\n      onChange: this.setCustomEmailList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 29\n      }\n    }), __jsx(\"button\", {\n      style: {\n        padding: \"1rem 36.5%\"\n      },\n      onClick: this.setProductsOn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 29\n      }\n    }, \"Add Points\")), __jsx(\"div\", {\n      className: \"col-md-8 input-block center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 25\n      }\n    }, __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 29\n      }\n    }, \"Template\"), __jsx(\"div\", {\n      className: \"col-md-2 inputter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 29\n      }\n    }, __jsx(\"input\", {\n      type: \"number\",\n      className: \"center\",\n      placeholder: \"Amount\",\n      onChange: this.setPointsToUse,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 33\n      }\n    })), __jsx(\"div\", {\n      className: \"col-md-5 inputter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 29\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      className: \"center\",\n      placeholder: \"From\",\n      onChange: this.setFrom,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 33\n      }\n    })), __jsx(\"div\", {\n      className: \"col-md-5 inputter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 29\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      className: \"center\",\n      placeholder: \"Subject\",\n      onChange: this.setSubject,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 33\n      }\n    })), __jsx(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 29\n      }\n    }, __jsx(\"textarea\", {\n      type: \"text\",\n      placeholder: \"Enter your Custom HTML or your Message\",\n      onChange: this.setMsgToSend,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 33\n      }\n    }), __jsx(\"button\", {\n      onClick: this.setDecisorOn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 33\n      }\n    }, \"Send!\"))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/mac/Desktop/Web Apps/MailMarket.me/mailmarket.me/pages/dashboard.jsx"],"names":["Router","Head","checkAuth","axios","DashBoardIndex","React","Component","constructor","props","typingTimeout","state","sent","points","pointsToUse","from","subject","msgToSend","customEmailList","totalEmailsSent","pageLoading","decisor","decisorLoading","decisorResult","products","setDecisorOn","bind","setDecisorOff","setProductsOn","setProductsOff","setPointsToUse","setMsgToSend","setFrom","setSubject","setCustomEmailList","sendRequest","getInitialProps","req","res","componentDidMount","loggedIn","id","url","method","data","then","response","setState","catch","err","push","result","status","parseInt","alert","elem","clearTimeout","value","target","setTimeout","length","mails","replace","split","filter","Boolean","render","decisorDom","self","transform","margin","padding"],"mappings":"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","sourcesContent":["import Router from \"next/router\";\nimport Head from \"next/head\";\nimport checkAuth from \"../lib/checkAuth\";\nimport axios from \"axios\";\nexport default class DashBoardIndex extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.typingTimeout = null;\n\n        this.state = {\n            sent: 0,\n            points: 0,\n            pointsToUse: 0,\n            from: null,\n            subject: null,\n            msgToSend: null,\n            customEmailList: [],\n            totalEmailsSent: 0,\n            pageLoading: true,\n            decisor: false,\n            decisorLoading: false,\n            decisorResult: false,\n            products: false,\n        }\n\n        this.setDecisorOn = this.setDecisorOn.bind(this);\n        this.setDecisorOff = this.setDecisorOff.bind(this);\n        this.setProductsOn = this.setProductsOn.bind(this);\n        this.setProductsOff = this.setProductsOff.bind(this);\n        this.setPointsToUse = this.setPointsToUse.bind(this);\n        this.setMsgToSend = this.setMsgToSend.bind(this);\n        this.setFrom = this.setFrom.bind(this);\n        this.setSubject = this.setSubject.bind(this);\n        this.setCustomEmailList = this.setCustomEmailList.bind(this);\n\n        this.sendRequest = this.sendRequest.bind(this);\n    }\n\n    static async getInitialProps({ req, res }) {\n        return checkAuth(req, res);\n    }\n\n    componentDidMount() {\n        if (this.props.loggedIn && this.props.id != null) {\n            axios({\n                url: \"/api/user\",\n                method: \"POST\",\n                data: {\n                    id: this.props.id\n                }\n            }).then(response => {\n                this.setState({\n                    pageLoading: false,\n                    sent: response.data.sent,\n                    points: response.data.points,\n                    totalEmailsSent: response.data.totalEmailsSent\n                });\n            }).catch(err => Router.push(\"/login\"));\n        }\n    }\n\n    sendRequest() {\n        if (this.state.msgToSend != null) {\n            this.setState({\n                decisorLoading: true,\n            });\n\n            axios({\n                url: \"/api/mailer\",\n                method: \"POST\",\n                data: {\n                    id: this.props.id,\n                    pointsToUse: this.state.pointsToUse,\n                    from: this.state.from,\n                    subject: this.state.subject,\n                    msgToSend: this.state.msgToSend,\n                    customEmailList: this.state.customEmailList\n                }\n            }).then(result => {\n                if (result.status == 200) {\n                    this.setState({\n                        decisor: false,\n                        decisorLoading: false,\n                        decisorResult: true,\n                        points: this.state.points - this.state.pointsToUse,\n                        pointsToUse: 0,\n                        sent: parseInt(this.state.sent) + parseInt(this.state.pointsToUse),\n                        totalEmailsSent: this.state.pointsToUse + this.state.totalEmailsSent,\n                        customEmailList: [],\n                    })\n                }\n            }).catch(err => {\n                this.setState({\n                    decisorLoading: false,\n                    decisorResult: false,\n                })\n            });\n        } else {\n            alert(\"Your message is empty!\");\n        }\n    }\n\n\n    setPointsToUse(elem) {\n        clearTimeout(this.typingTimeout);\n        let value = elem.target.value;\n        this.typingTimeout = setTimeout(() => {\n            this.setState({\n                pointsToUse: this.state.customEmailList.length > 0 ? parseInt(value) + this.state.customEmailList.length : parseInt(value)\n            });\n        }, 500);\n    }\n    setFrom(elem) {\n        this.setState({\n            from: elem.target.value\n        });\n    }\n\n    setSubject(elem) {\n        this.setState({\n            subject: elem.target.value\n        });\n    }\n\n    setMsgToSend(elem) {\n        this.setState({\n            msgToSend: elem.target.value\n        });\n    }\n\n    setCustomEmailList(elem) {\n        clearTimeout(this.typingTimeout);\n        let value = elem.target.value\n        this.typingTimeout = setTimeout(() => {\n            let mails = value.length > 1 ? value.replace(\" \", \"\").replace(\",\", \"\\n\").split(\"\\n\").filter(Boolean) : [];\n            let pointsToUse = this.state.pointsToUse;\n\n            if (mails.length > this.state.customEmailList.length) {\n                pointsToUse = (mails.length - this.state.customEmailList.length) + this.state.pointsToUse\n            }\n            if (mails.length < this.state.customEmailList.length) {\n                pointsToUse = this.state.pointsToUse - (this.state.customEmailList.length - mails.length);\n            }\n            if (mails.length == 0) {\n                pointsToUse = this.state.pointsToUse - this.state.customEmailList.length;\n            }\n            this.setState({\n                customEmailList: mails,\n                pointsToUse: pointsToUse\n            });\n        }, 800);\n    }\n\n    setDecisorOn() {\n        if (this.state.pointsToUse > 0) {\n            if (this.state.from == null || this.state.subject == null || this.state.msgToSend == null) {\n                alert(\"Error: Some form(s) are left empty\");\n            } else {\n                this.setState({\n                    decisor: true\n                });\n            }\n        } else {\n            alert(\"Error: You cannot use 0 points\");\n        }\n    }\n\n    setDecisorOff() {\n        this.setState({\n            decisor: false,\n        });\n    }\n\n    setProductsOn(){\n        this.setState({\n            products: true\n        })\n    }\n\n    setProductsOff(){\n        this.setState({\n            products: false\n        })\n    }\n\n    render() {\n\n        function decisorDom(self) {\n            if (self.state.pointsToUse <= self.state.points) {\n                return (\n                    <div className=\"container decisor-items-container\" onClick={self.setDecisorOff}>\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <h2>You will use <b>{self.state.pointsToUse}</b> points.<br></br><br></br>Points left: <b>{self.state.points - self.state.pointsToUse}</b><br></br><br></br>Are you sure?</h2>\n                            </div>\n                            <div className={self.state.decisorLoading ? \"col-md-12 decisor-loading\" : \"col-md-12 decisor-loading hide\"}>\n                                <div className=\"loadingio-spinner-eclipse-h5c55szghjc\" style={{ transform: \"scale(0.7)\" }}>\n                                    <div className=\"ldio-3kphjdhe4ws\">\n                                        <div></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className={self.state.decisorLoading ? \"col-md-12 row hide\" : \"col-md-12 row\"}>\n                                <div className=\"col-md-6\">\n                                    <button className=\"decisor-button\" onClick={self.sendRequest}>Yes</button>\n                                </div>\n                                <div className=\"col-md-6\">\n                                    <button className=\"decisor-button black\" onClick={self.setDecisorOff}>No</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                );\n            } else {\n                return (\n                    <div className=\"container decisor-items-container\">\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <h2>You don't have enough points.<br></br><br></br>You need {self.state.pointsToUse - self.state.points == 1 ? self.state.pointsToUse - self.points + \" point\" : self.state.pointsToUse - self.points + \" points\"}.</h2>\n                            </div>\n                            <div className=\"col-md-12 row\">\n                                <div className=\"col-md-6\">\n                                    <button className=\"decisor-button\">Add Points</button>\n                                </div>\n                                <div className=\"col-md-6\">\n                                    <button className=\"decisor-button black\" onClick={self.setDecisorOff}>Close</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )\n            }\n        }\n\n\n        return (\n            <React.Fragment>\n                <Head>\n                    <title>Dashboard</title>\n                    <link href=\"/css/bootstrap.css\" rel=\"stylesheet\"></link>\n                    <link href=\"/css/dashboard.css\" rel=\"stylesheet\"></link>\n                </Head>\n                <div className={this.state.pageLoading ? \"loading\" : \"loading hide\"}>\n                    <div className=\"loadingio-spinner-eclipse-h5c55szghjc\">\n                        <div className=\"ldio-3kphjdhe4ws\">\n                            <div></div>\n                        </div>\n                    </div>\n                </div>\n                <div className={this.state.products ? \"decisor active\" : \"decisor\"}>\n                    <div className=\"container\" onClick={this.setProductsOff}>\n                        <div className=\"row\">\n                            <div className=\"col-md-4\">\n                                <div className=\"product-details\">\n                                    <h2>Starter Pack</h2>\n                                    <h2>100 Points</h2>\n                                    <h2>1.00$</h2>\n                                    <button>Pay with PayPal</button>\n                                </div>\n                            </div>\n                            <div className=\"col-md-4\">\n                                <div className=\"product-details\">\n                                    <h2>Medium Pack</h2>\n                                    <h2>400 Points</h2>\n                                    <h2>2.50$</h2>\n                                    <button className=\"black\">Pay with PayPal</button>\n                                </div>\n                            </div>\n                            <div className=\"col-md-4\">\n                                <div className=\"product-details\">\n                                    <h2>Marketer Pack</h2>\n                                    <h2>700 Points</h2>\n                                    <h2>5$</h2>\n                                    <button>Pay with PayPal</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={this.state.decisor ? \"decisor active\" : \"decisor\"}>\n                    {decisorDom(this)}\n                </div>\n                <div className=\"container-fluid\">\n                    <div className=\"row center\">\n                        <div className=\"col-md-4\">\n                            <div className=\"statistics-block\">\n                                <h2>E-Mails Sent</h2>\n                                <h3>{this.state.sent}</h3>\n                            </div>\n                        </div>\n                        <div className=\"col-md-4\">\n                            <div className=\"statistics-block\">\n                                <h2>Available Points</h2>\n                                <h3>{this.state.points}</h3>\n                            </div>\n                        </div>\n                        <div className=\"col-md-4\">\n                            <div className=\"statistics-block\">\n                                <h2>Total E-Mails Sent</h2>\n                                <h3>{this.state.totalEmailsSent}</h3>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"row\" style={{ margin: \"5rem 0\" }}>\n                        <div className=\"col-md-4 input-block center\">\n                            <h3>Custom E-Mail List</h3>\n                            <textarea className=\"custom-list\" type=\"text\" placeholder=\"Leave blank if you don't want to add custom E-Mails\" onChange={this.setCustomEmailList}></textarea>\n                            <button style={{ padding: \"1rem 36.5%\" }} onClick={this.setProductsOn}>Add Points</button>\n                        </div>\n                        <div className=\"col-md-8 input-block center\">\n                            <h3>Template</h3>\n                            <div className=\"col-md-2 inputter\">\n                                <input type=\"number\" className=\"center\" placeholder=\"Amount\" onChange={this.setPointsToUse}></input>\n                            </div>\n                            <div className=\"col-md-5 inputter\">\n                                <input type=\"text\" className=\"center\" placeholder=\"From\" onChange={this.setFrom}></input>\n                            </div>\n                            <div className=\"col-md-5 inputter\">\n                                <input type=\"text\" className=\"center\" placeholder=\"Subject\" onChange={this.setSubject}></input>\n                            </div>\n                            <div className=\"col-md-12\">\n                                <textarea type=\"text\" placeholder=\"Enter your Custom HTML or your Message\" onChange={this.setMsgToSend}></textarea>\n                                <button onClick={this.setDecisorOn}>Send!</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}