{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Head from \"next/head\";\nimport Router from \"next/router\";\nimport axios from \"axios\";\nexport default class Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: null,\n      password: null\n    };\n    this.handleUsernameChange = this.handleUsernameChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleCreateAccount = this.handleCreateAccount.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleUsernameChange(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleCreateAccount(event) {\n    Router.push(\"/register\");\n  }\n\n  handleSubmit(event) {\n    function validateEmail(email) {\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(String(email).toLowerCase());\n    }\n\n    if (validateEmail(this.state.username)) {\n      const res = axios({\n        method: \"POST\",\n        url: \"/api/register\",\n        data: {\n          username: this.state.username,\n          password: this.state.password\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          alert(\"Your account has been created!\");\n          Router.push(\"/login\");\n        }\n      }).catch(err => {\n        alert(\"There's already an Account with that E-Mail.\");\n      });\n    } else {\n      alert(\"Please enter a valid E-Mail\");\n    }\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"Register\"), __jsx(\"link\", {\n      href: \"/css/bootstrap.css\",\n      rel: \"stylesheet\"\n    }), __jsx(\"link\", {\n      href: \"/css/main.css\",\n      rel: \"stylesheet\"\n    })), __jsx(\"div\", {\n      className: \"container-fluid form-container\"\n    }, __jsx(\"div\", {\n      className: \"row\"\n    }, __jsx(\"div\", {\n      className: \"col-md-12\"\n    }, __jsx(\"div\", {\n      className: \"form\"\n    }, __jsx(\"h2\", null, \"Create Account\"), __jsx(\"input\", {\n      type: \"email\",\n      onChange: this.handleUsernameChange,\n      placeholder: \"E-Mail\"\n    }), __jsx(\"input\", {\n      type: \"password\",\n      onChange: this.handlePasswordChange,\n      placeholder: \"Password\"\n    }), __jsx(\"button\", {\n      onClick: this.handleSubmit\n    }, \"Create Account\"))))));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}