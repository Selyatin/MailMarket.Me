{"ast":null,"code":"const mongodb = require(\"mongodb\");\n\nconst MongoClient = mongodb.MongoClient;\nconst uri = \"mongodb+srv://main-user:09730Success@mailmarketme-k4esh.mongodb.net/test?retryWrites=true&w=majority\";\nconst client = new MongoClient(uri, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\nexport default ((req, res) => {\n  if (req.method === \"POST\" && req.body.id != undefined && req.body.id != null) {\n    client.connect(err => {\n      if (err) throw err;\n      const db = client.db(\"MailMarketMe\");\n      console.log(req.body.id);\n      db.collection(\"accounts\").findOne({\n        \"_id\": mongodb.ObjectId(req.body.id).toString()\n      }, (err, result) => {\n        console.log(result);\n        if (err) throw err;\n\n        if (result != null) {\n          res.status(200).end(result);\n        } else {\n          res.status(406).end();\n        }\n      });\n    });\n  } else {\n    res.status(406).end();\n  }\n});","map":{"version":3,"sources":["/Users/mac/Desktop/Web Apps/MailMarket.me/mailmarket.me/pages/api/user.js"],"names":["mongodb","require","MongoClient","uri","client","useNewUrlParser","useUnifiedTopology","req","res","method","body","id","undefined","connect","err","db","console","log","collection","findOne","ObjectId","toString","result","status","end"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,WAAW,GAAGF,OAAO,CAACE,WAA5B;AACA,MAAMC,GAAG,GAAG,sGAAZ;AAEA,MAAMC,MAAM,GAAG,IAAIF,WAAJ,CAAgBC,GAAhB,EAAqB;AAACE,EAAAA,eAAe,EAAE,IAAlB;AAAwBC,EAAAA,kBAAkB,EAAE;AAA5C,CAArB,CAAf;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3B,MAAGD,GAAG,CAACE,MAAJ,KAAe,MAAf,IAAyBF,GAAG,CAACG,IAAJ,CAASC,EAAT,IAAeC,SAAxC,IAAqDL,GAAG,CAACG,IAAJ,CAASC,EAAT,IAAe,IAAvE,EAA4E;AAC1EP,IAAAA,MAAM,CAACS,OAAP,CAAeC,GAAG,IAAI;AACpB,UAAGA,GAAH,EAAQ,MAAMA,GAAN;AACR,YAAMC,EAAE,GAAGX,MAAM,CAACW,EAAP,CAAU,cAAV,CAAX;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAYV,GAAG,CAACG,IAAJ,CAASC,EAArB;AACAI,MAAAA,EAAE,CAACG,UAAH,CAAc,UAAd,EAA0BC,OAA1B,CAAkC;AAAC,eAAOnB,OAAO,CAACoB,QAAR,CAAiBb,GAAG,CAACG,IAAJ,CAASC,EAA1B,EAA8BU,QAA9B;AAAR,OAAlC,EAAqF,CAACP,GAAD,EAAMQ,MAAN,KAAiB;AAClGN,QAAAA,OAAO,CAACC,GAAR,CAAYK,MAAZ;AACA,YAAGR,GAAH,EAAQ,MAAMA,GAAN;;AACR,YAAGQ,MAAM,IAAI,IAAb,EAAkB;AAChBd,UAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,GAAhB,CAAoBF,MAApB;AACD,SAFD,MAEM;AACJd,UAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD;AACJ,OARD;AASH,KAbD;AAcD,GAfD,MAgBI;AACFhB,IAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD;AACF,CApBD","sourcesContent":["const mongodb = require(\"mongodb\");\nconst MongoClient = mongodb.MongoClient;\nconst uri = \"mongodb+srv://main-user:09730Success@mailmarketme-k4esh.mongodb.net/test?retryWrites=true&w=majority\";\n\nconst client = new MongoClient(uri, {useNewUrlParser: true, useUnifiedTopology: true});\n\nexport default (req, res) => {\n  if(req.method === \"POST\" && req.body.id != undefined && req.body.id != null){\n    client.connect(err => {\n      if(err) throw err;\n      const db = client.db(\"MailMarketMe\");\n        console.log(req.body.id);\n        db.collection(\"accounts\").findOne({\"_id\": mongodb.ObjectId(req.body.id).toString()}, (err, result) => {\n            console.log(result);\n            if(err) throw err;\n            if(result != null){\n              res.status(200).end(result);\n            }else {\n              res.status(406).end();\n            }\n        });\n    });\n  }\n  else{\n    res.status(406).end();\n  }\n}"]},"metadata":{},"sourceType":"module"}