{"ast":null,"code":"import client from \"../../lib/mongoClient\";\nexport default ((req, res) => {\n  if (req.method === \"POST\" && req.body.username != undefined && req.body.username != null && req.body.password != undefined && req.body.password != null) {\n    client.connect(err => {\n      if (err) throw err;\n      const db = client.db(\"MailMarketMe\");\n      const username = req.body.username;\n      const password = req.body.password;\n      db.collection(\"accounts\").findOne({\n        email: username\n      }, (err, result) => {\n        if (result.password != null) {\n          if (password == result.password) {\n            res.status(200).end();\n          } else {\n            res.status(404).end();\n          }\n        }\n      });\n    });\n  } else {\n    res.status(404);\n  }\n});","map":{"version":3,"sources":["/Users/mac/Desktop/Web Apps/MailMarket.me/mailmarket.me/pages/api/auth.js"],"names":["client","req","res","method","body","username","undefined","password","connect","err","db","collection","findOne","email","result","status","end"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,uBAAnB;AACA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3B,MAAGD,GAAG,CAACE,MAAJ,KAAe,MAAf,IAAyBF,GAAG,CAACG,IAAJ,CAASC,QAAT,IAAqBC,SAA9C,IAA2DL,GAAG,CAACG,IAAJ,CAASC,QAAT,IAAqB,IAAhF,IAAwFJ,GAAG,CAACG,IAAJ,CAASG,QAAT,IAAqBD,SAA7G,IAA0HL,GAAG,CAACG,IAAJ,CAASG,QAAT,IAAqB,IAAlJ,EAAuJ;AACrJP,IAAAA,MAAM,CAACQ,OAAP,CAAeC,GAAG,IAAI;AACpB,UAAGA,GAAH,EAAQ,MAAMA,GAAN;AACR,YAAMC,EAAE,GAAGV,MAAM,CAACU,EAAP,CAAU,cAAV,CAAX;AACA,YAAML,QAAQ,GAAGJ,GAAG,CAACG,IAAJ,CAASC,QAA1B;AACA,YAAME,QAAQ,GAAGN,GAAG,CAACG,IAAJ,CAASG,QAA1B;AACEG,MAAAA,EAAE,CAACC,UAAH,CAAc,UAAd,EAA0BC,OAA1B,CAAkC;AAACC,QAAAA,KAAK,EAAER;AAAR,OAAlC,EAAqD,CAACI,GAAD,EAAMK,MAAN,KAAiB;AAClE,YAAGA,MAAM,CAACP,QAAP,IAAmB,IAAtB,EAA2B;AACzB,cAAGA,QAAQ,IAAIO,MAAM,CAACP,QAAtB,EAA+B;AAC7BL,YAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD,WAFD,MAEM;AACJd,YAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD;AACF;AACJ,OARD;AASH,KAdD;AAeD,GAhBD,MAiBI;AACFd,IAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX;AACD;AACF,CArBD","sourcesContent":["import client from \"../../lib/mongoClient\";\nexport default (req, res) => {\n  if(req.method === \"POST\" && req.body.username != undefined && req.body.username != null && req.body.password != undefined && req.body.password != null){\n    client.connect(err => {\n      if(err) throw err;\n      const db = client.db(\"MailMarketMe\");\n      const username = req.body.username;\n      const password = req.body.password;\n        db.collection(\"accounts\").findOne({email: username}, (err, result) => {\n            if(result.password != null){\n              if(password == result.password){\n                res.status(200).end();\n              }else {\n                res.status(404).end();\n              }\n            }\n        });\n    });\n  }\n  else{\n    res.status(404);\n  }\n}"]},"metadata":{},"sourceType":"module"}