{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{\"5QeG\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return C}));var a=n(\"o0o1\"),r=n.n(a),i=n(\"1OyB\"),o=n(\"JX7q\"),s=n(\"vuIU\"),c=n(\"Ji7U\"),u=n(\"md7G\"),l=n(\"foSv\"),d=n(\"q1tI\"),h=n.n(d),f=n(\"8Kt/\"),p=n.n(f),m=n(\"nOHt\"),v=n.n(m),w=n(\"vDqi\"),g=n.n(w),b=n(\"lsd1\"),y=h.a.createElement;function S(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){Object(c.a)(a,e);var t,n=(t=a,function(){var e,n=Object(l.a)(t);if(S()){var a=Object(l.a)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(u.a)(this,e)});function a(e){var t;return Object(i.a)(this,a),(t=n.call(this,e)).state={username:null,password:null},t.handleUsernameChange=t.handleUsernameChange.bind(Object(o.a)(t)),t.handlePasswordChange=t.handlePasswordChange.bind(Object(o.a)(t)),t.handleCreateAccount=t.handleCreateAccount.bind(Object(o.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(o.a)(t)),t}return Object(s.a)(a,null,[{key:\"getInitialProps\",value:function(e){var t,n,a;return r.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.req,n=e.res,(a=Object(b.a)(t,n)).loggedIn&&(n.writeHead(302,{Location:\"/dashboard\"}),n.end()),r.abrupt(\"return\",a);case 4:case\"end\":return r.stop()}}),null,null,null,Promise)}}]),Object(s.a)(a,[{key:\"handleUsernameChange\",value:function(e){this.setState({username:e.target.value})}},{key:\"handlePasswordChange\",value:function(e){this.setState({password:e.target.value})}},{key:\"handleCreateAccount\",value:function(e){v.a.push(\"/register\")}},{key:\"handleSubmit\",value:function(e){g()({method:\"POST\",url:\"/api/auth\",data:{username:this.state.username,password:this.state.password}}).then((function(e){200===e.status&&(console.log(e.data),document.cookie=\"id=\"+e.data+\";path=/\",v.a.push(\"/dashboard\"))})).catch((function(e){alert(\"Wrong credentials\")}))}},{key:\"render\",value:function(){return y(h.a.Fragment,null,y(p.a,null,y(\"title\",null,\"Login\"),y(\"link\",{href:\"/css/bootstrap.css\",rel:\"stylesheet\"}),y(\"link\",{href:\"/css/main.css\",rel:\"stylesheet\"})),y(\"div\",{className:\"container-fluid form-container\"},y(\"div\",{className:\"row\"},y(\"div\",{className:\"col-md-12\"},y(\"div\",{className:\"form\"},y(\"h2\",null,\"Login\"),y(\"input\",{type:\"email\",onChange:this.handleUsernameChange,placeholder:\"E-Mail\"}),y(\"input\",{type:\"password\",onChange:this.handlePasswordChange,placeholder:\"Password\"}),y(\"button\",{onClick:this.handleSubmit},\"Login\"),y(\"button\",{onClick:this.handleCreateAccount},\"Create Account\"))))))}}]),a}(h.a.Component)},\"iVi/\":function(e,t,n){\"use strict\";t.parse=function(e,t){if(\"string\"!==typeof e)throw new TypeError(\"argument str must be a string\");for(var n={},r=t||{},o=e.split(i),c=r.decode||a,u=0;u<o.length;u++){var l=o[u],d=l.indexOf(\"=\");if(!(d<0)){var h=l.substr(0,d).trim(),f=l.substr(++d,l.length).trim();'\"'==f[0]&&(f=f.slice(1,-1)),void 0==n[h]&&(n[h]=s(f,c))}}return n},t.serialize=function(e,t,n){var a=n||{},i=a.encode||r;if(\"function\"!==typeof i)throw new TypeError(\"option encode is invalid\");if(!o.test(e))throw new TypeError(\"argument name is invalid\");var s=i(t);if(s&&!o.test(s))throw new TypeError(\"argument val is invalid\");var c=e+\"=\"+s;if(null!=a.maxAge){var u=a.maxAge-0;if(isNaN(u))throw new Error(\"maxAge should be a Number\");c+=\"; Max-Age=\"+Math.floor(u)}if(a.domain){if(!o.test(a.domain))throw new TypeError(\"option domain is invalid\");c+=\"; Domain=\"+a.domain}if(a.path){if(!o.test(a.path))throw new TypeError(\"option path is invalid\");c+=\"; Path=\"+a.path}if(a.expires){if(\"function\"!==typeof a.expires.toUTCString)throw new TypeError(\"option expires is invalid\");c+=\"; Expires=\"+a.expires.toUTCString()}a.httpOnly&&(c+=\"; HttpOnly\");a.secure&&(c+=\"; Secure\");if(a.sameSite){switch(\"string\"===typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:c+=\"; SameSite=Strict\";break;case\"lax\":c+=\"; SameSite=Lax\";break;case\"strict\":c+=\"; SameSite=Strict\";break;case\"none\":c+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return c};var a=decodeURIComponent,r=encodeURIComponent,i=/; */,o=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function s(e,t){try{return t(e)}catch(n){return e}}},jRKa:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/login\",function(){return n(\"5QeG\")}])},lsd1:function(e,t,n){\"use strict\";var a=n(\"iVi/\"),r=n.n(a);t.a=function(e,t){if(void 0!=e&&void 0!=e.headers&&void 0!=e.headers.cookie&&null!=e.headers.cookie){var n=r.a.parse(e.headers.cookie);if(n.id)return{loggedIn:!0,id:n.id};t&&(t.writeHead(302,{Location:\"/login\"}),t.end())}return{loggedIn:!1,id:null}}}},[[\"jRKa\",0,2,1,3]]]);"}